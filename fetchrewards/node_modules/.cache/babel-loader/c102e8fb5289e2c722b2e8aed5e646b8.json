{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from'axios';import\"./productlist.css\";//constructor comes first to load the function\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Productmaker=function Productmaker(props){return/*#__PURE__*/_jsx(\"div\",{className:\"productWrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:'productHeader',children:[/*#__PURE__*/_jsx(\"img\",{className:\"banner\",src:\"\".concat(props.record.image),alt:\"productimg\"}),/*#__PURE__*/_jsx(\"div\",{className:'productInfo',children:/*#__PURE__*/_jsx(\"h2\",{className:\"producName\",children:props.record.name})}),/*#__PURE__*/_jsx(\"p\",{className:'postText'}),/*#__PURE__*/_jsx(\"p\",{children:props.record.detail}),/*#__PURE__*/_jsx(\"p\",{className:\"points\",children:props.record.points})]})});};//export productlist\nexport default function ProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,records;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"./productlist.json\");case 2:response=_context.sent;records=response.data;setRecords(records);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getRecords.apply(this,arguments);}getRecords();return;},[records.length]);var sortedProduct=records.sort(function(a,b){return a.points-b.points;});// This method will map out the products as a list\nfunction products(){return sortedProduct.map(function(record){return/*#__PURE__*/_jsx(Productmaker,{record:record},record.name);});}// This following section will display the table with the records of products.\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"background\",style:{maxHeight:'100vh',overflowY:'auto'},children:/*#__PURE__*/_jsx(\"div\",{children:products()})});}","map":{"version":3,"names":["React","useEffect","useState","axios","Productmaker","props","record","image","name","detail","points","ProductList","records","setRecords","getRecords","get","response","data","length","sortedProduct","sort","a","b","products","map","maxHeight","overflowY"],"sources":["/Users/dhc/Fetch-Project/fetchrewards/src/pages/databasecomponents/productlist.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport \"./productlist.css\"\n\n//constructor comes first to load the function\nconst Productmaker = (props) => \n(\n  <div className={`productWrapper`}>\n                    <div className={'productHeader'} >\n                    <img className=\"banner\" src={`${props.record.image}`} alt=\"productimg\"/>\n                        <div className={'productInfo'}>\n                            <h2 className=\"producName\">{props.record.name}</h2>\n                        </div>\n                        <p className={'postText'}/><p>{props.record.detail}</p>\n                        <p className=\"points\">{props.record.points}</p>\n                        </div>\n                </div>\n);\n\n//export productlist\nexport default function ProductList() {\n const [records, setRecords] = useState([]);\n \n // This method fetches the records from the database.\n useEffect(() => {\n  async function getRecords() {\n    const response = await axios.get(\"./productlist.json\");\n    const records = response.data\n    setRecords(records);\n  }\n\n  getRecords();\n\n   return;\n }, [records.length]);\n const sortedProduct = records.sort((a, b) => {\n  return ((a.points)- (b.points));\n})\n\n // This method will map out the products as a list\n function products() {\n   return sortedProduct.map((record) => {\n     \n     return (\n       <Productmaker\n         record={record}\n         key={record.name}\n       />\n     );\n   });\n }\n \n // This following section will display the table with the records of products.\n return (\n   <div className= \"background\" style={{ maxHeight: '100vh', overflowY:'auto'}}>\n       <div>{products()}</div>\n   </div>\n );\n}"],"mappings":"iYAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,mBAAP,CAEA;wFACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,qBAEnB,YAAK,SAAS,iBAAd,uBACkB,aAAK,SAAS,CAAE,eAAhB,wBACA,YAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,WAAKA,KAAK,CAACC,MAAN,CAAaC,KAAlB,CAA3B,CAAsD,GAAG,CAAC,YAA1D,EADA,cAEI,YAAK,SAAS,CAAE,aAAhB,uBACI,WAAI,SAAS,CAAC,YAAd,UAA4BF,KAAK,CAACC,MAAN,CAAaE,IAAzC,EADJ,EAFJ,cAKI,UAAG,SAAS,CAAE,UAAd,EALJ,cAK+B,mBAAIH,KAAK,CAACC,MAAN,CAAaG,MAAjB,EAL/B,cAMI,UAAG,SAAS,CAAC,QAAb,UAAuBJ,KAAK,CAACC,MAAN,CAAaI,MAApC,EANJ,GADlB,EAFmB,EAArB,CAcA;AACA,cAAe,SAASC,YAAT,EAAuB,CACrC,cAA8BT,QAAQ,CAAC,EAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eAEA;AACAZ,SAAS,CAAC,UAAM,SACAa,WADA,0IACf,gLACyBX,MAAK,CAACY,GAAN,CAAU,oBAAV,CADzB,QACQC,QADR,eAEQJ,OAFR,CAEkBI,QAAQ,CAACC,IAF3B,CAGEJ,UAAU,CAACD,OAAD,CAAV,CAHF,sDADe,6CAOfE,UAAU,GAET,OACD,CAVQ,CAUN,CAACF,OAAO,CAACM,MAAT,CAVM,CAAT,CAWA,GAAMC,cAAa,CAAGP,OAAO,CAACQ,IAAR,CAAa,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC5C,MAASD,EAAC,CAACX,MAAH,CAAaY,CAAC,CAACZ,MAAvB,CACD,CAFsB,CAAtB,CAIA;AACA,QAASa,SAAT,EAAoB,CAClB,MAAOJ,cAAa,CAACK,GAAd,CAAkB,SAAClB,MAAD,CAAY,CAEnC,mBACE,KAAC,YAAD,EACE,MAAM,CAAEA,MADV,EAEOA,MAAM,CAACE,IAFd,CADF,CAMD,CARM,CAAP,CASD,CAED;AACA,mBACE,YAAK,SAAS,CAAE,YAAhB,CAA6B,KAAK,CAAE,CAAEiB,SAAS,CAAE,OAAb,CAAsBC,SAAS,CAAC,MAAhC,CAApC,uBACI,qBAAMH,QAAQ,EAAd,EADJ,EADF,CAKA"},"metadata":{},"sourceType":"module"}