{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/dhc/Fetch-Project/fetchrewards/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";import{useNavigate}from\"react-router\";import\"./create.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Create(){var _useState=useState({postnumber:'',photo:'',title:'',date:'',content:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var navigate=useNavigate();// These methods will update the state properties.\nfunction updateForm(value){return setForm(function(prev){return _objectSpread(_objectSpread({},prev),value);});}// This function will handle the submission.\nfunction onSubmit(_x){return _onSubmit.apply(this,arguments);}// This following section will display the form that takes the input from the user.\nfunction _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// When a post request is sent to the create url, we'll add a new record to the database.\nnewPost={form:form};console.log(form);axios.post(\"/blogpost/create\",newPost).then(function(res){console.log(res.data);}).catch(function(error){console.log(error);});setForm({postnumber:\"\",photo:\"\",title:\"\",date:\"\",content:\"\"});navigate(\"/admin\");case 6:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"createcontainer\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Blogpost\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postnumber\",children:\"Post Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"formSubmitter\",id:\"postnumber\",value:form.postnumber,onChange:function onChange(e){return updateForm({postnumber:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo\",children:\"Photo URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"formSubmitter\",id:\"photo\",value:form.photo,onChange:function onChange(e){return updateForm({photo:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"formSubmitter\",id:\"title\",value:form.title,onChange:function onChange(e){return updateForm({title:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"formSubmitter\",id:\"date\",value:form.date,onChange:function onChange(e){return updateForm({date:e.target.value});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"formContainer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"formSubmitter\",id:\"content\",value:form.content,onChange:function onChange(e){return updateForm({content:e.target.value});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"formSubmit\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Post\",className:\"submitButton\"})})]})]});}","map":{"version":3,"names":["axios","React","useState","useNavigate","Create","postnumber","photo","title","date","content","form","setForm","navigate","updateForm","value","prev","onSubmit","e","preventDefault","newPost","console","log","post","then","res","data","catch","error","target"],"sources":["/Users/dhc/Fetch-Project/fetchrewards/src/pages/databasecomponents/create.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport \"./create.css\"\n\nexport default function Create() {\n const [form, setForm] = useState({\n   postnumber: '',\n   photo: '',\n   title: '',\n   date: '',\n   content: '',\n });\n const navigate = useNavigate();\n \n // These methods will update the state properties.\n function updateForm(value) {\n   return setForm((prev) => {\n     return { ...prev, ...value };\n   });\n }\n \n // This function will handle the submission.\n async function onSubmit(e) {\n   e.preventDefault();\n \n   // When a post request is sent to the create url, we'll add a new record to the database.\n   const newPost = { form };\n   console.log( form)\n    axios.post(\"/blogpost/create\", newPost) \n    .then((res) => {\n      console.log(res.data);\n  }).catch((error) => {\n      console.log(error)\n  });\n \n   setForm({   \n  postnumber: \"\",\n   photo: \"\",\n   title: \"\",\n   date: \"\",\n   content: \"\", });\n   navigate(\"/admin\");\n }\n \n // This following section will display the form that takes the input from the user.\n return (\n   <div className=\"createcontainer\">\n     <h3>Create New Blogpost</h3>\n     <form onSubmit={onSubmit}>\n     <div className=\"formContainer\">\n         <label htmlFor=\"postnumber\">Post Number</label>\n         <input\n           type=\"text\"\n           className=\"formSubmitter\"\n           id=\"postnumber\"\n           value={form.postnumber}\n           onChange={(e) => updateForm({ postnumber: e.target.value })}\n         />\n       </div>\n     <div className=\"formContainer\">\n         <label htmlFor=\"photo\">Photo URL</label>\n         <input\n           type=\"text\"\n           className=\"formSubmitter\"\n           id=\"photo\"\n           value={form.photo}\n           onChange={(e) => updateForm({ photo: e.target.value })}\n         />\n       </div>\n       <div className=\"formContainer\">\n         <label htmlFor=\"title\">Title</label>\n         <input\n           type=\"text\"\n           className=\"formSubmitter\"\n           id=\"title\"\n           value={form.title}\n           onChange={(e) => updateForm({ title: e.target.value })}\n         />\n       </div>\n       <div className=\"formContainer\">\n         <label htmlFor=\"date\">Date</label>\n         <input\n           type=\"date\"\n           className=\"formSubmitter\"\n           id=\"date\"\n           value={form.date}\n           onChange={(e) => updateForm({ date: e.target.value })}\n         />\n       </div>\n       <div className=\"formContainer\">\n       </div>\n       <div className=\"formContainer\">\n         <label htmlFor=\"content\">Content</label>\n         <input\n           type=\"text\"\n           className=\"formSubmitter\"\n           id=\"content\"\n           value={form.content}\n           onChange={(e) => updateForm({ content: e.target.value })}\n         />\n       </div>\n       <div className=\"formSubmit\">\n         <input\n           type=\"submit\"\n           value=\"Create Post\"\n           className=\"submitButton\"\n         />\n       </div>\n     </form>\n   </div>\n );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}